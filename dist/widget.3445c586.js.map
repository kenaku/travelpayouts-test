{"version":3,"sources":["../src/options.js","../src/constants.js","../src/create-element.js","../src/component.js","../src/render.js","../src/create-context.js","../src/util.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/clone-element.js","../src/diff/catch-error.js","../src/index.js","../node_modules/flatpickr/dist/flatpickr.js","useWidgetSize.ts","CalendarIcon.tsx","utils.ts","widget.tsx"],"names":["options","isValidElement","rerenderQueue","rerenderCount","defer","prevDebounce","IS_HYDRATE","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","normalizedProps","arguments","length","push","defaultProps","createVNode","key","ref","vnode","_children","_parent","_depth","_dom","_nextDom","_component","constructor","createRef","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","_dirty","debounceRendering","process","queue","sort","a","b","_vnode","some","component","commitQueue","newDom","oldDom","parentDom","_parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","oldVNode","sibDom","firstChildDom","refs","oldChildren","oldChildrenLength","toChildArray","childVNode","undefined","nextDom","outer","appendChild","nextSibling","insertBefore","value","unmount","applyRef","callback","flattened","Array","isArray","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","test","name","oldValue","s","useCapture","nameLower","cssText","replace","toLowerCase","slice","addEventListener","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","e","event","newVNode","tmp","isNew","oldState","snapshot","clearProcessingException","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","prototype","render","doRender","sub","state","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","_force","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","_render","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","_catchError","root","_commit","cb","call","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","parentVNode","skipRemove","r","componentWillUnmount","this","replaceNode","_root","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_this","_props","old","splice","error","hasCaught","getDerivedStateFromError","setState","componentDidCatch","update","forceUpdate","Promise","then","bind","resolve","setTimeout","currentIndex","currentComponent","prevRaf","afterPaintEffects","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","index","_hook","hooks","__hooks","_list","_pendingEffects","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_value","action","nextValue","useEffect","args","argsChanged","_args","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","concat","factory","_factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","err","flushAfterPaintEffects","forEach","invokeCleanup","invokeEffect","hook","_cleanup","result","oldArgs","newArgs","arg","f","requestAnimationFrame","raf","done","clearTimeout","timeout","cancelAnimationFrame","window","filter","global","exports","module","define","amd","self","flatpickr","__assign","Object","t","n","p","hasOwnProperty","apply","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","errorHandler","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","int","bool","debounce","func","wait","immediate","arrayify","toggleClass","elem","className","classList","add","remove","tag","content","textContent","clearNode","firstChild","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","h","minutes","setMinutes","l","m","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","frmt","overrideLocale","formatDate","split","map","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","fn","val","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","target","_i","TypeError","_loop_1","source","keys","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","defaultConfig","bindToInstance","setCalendarWidth","calendarContainer","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","selectedDates","setDefaultTime","timeWrapper","preventDefault","isKeyDown","input","getAttribute","step","curValue","delta","which","newValue","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","abs","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","hours","secondElement","limitMinHours","minTime","minDate","minDateHasTime","latestSelectedDateObj","limitMaxHours","maxTime","maxDate","maxDateHasTime","setHoursFromDate","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","isMobile","onYearInput","toString","changeYear","handler","ev","el","_handlers","onClick","evt","triggerChange","triggerEvent","jumpToDate","jumpDate","jumpTo","oldYear","currentYear","oldMonth","currentMonth","message","buildMonthSwitch","redraw","timeIncrement","contains","inputElem","createEvent","dispatchEvent","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","tabIndex","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","onMouseOver","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","focusOnDay","offset","dayFocused","isInView","activeElement","body","startElem","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","changeMonth","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","createDocumentFragment","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","buildDays","frag","shouldBuildMonth","monthsDropdownContainer","selected","buildMonth","container","monthElement","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","monthNav","prevMonthNav","yearElements","monthElements","nextMonthNav","buildWeekdays","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","isCalendarElem","appendTo","documentClick","isOpen","eventTarget_1","composedPath","isCalendarElement","isInput","path","lostFocus","relatedTarget","isIgnored","timeContainer","close","clear","getEventTarget","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","from","to","allowKeydown","allowInlineKeydown","keyCode","blur","open","isTimeObj","focusAndClose","selectDate","delta_1","ctrlKey","stopPropagation","currentYearElement","elems","pluginElements","x","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","onResize","positionCalendar","minMaxDateSetter","inverseDateObj","setupLocale","l10ns","JSON","parse","stringify","dataset","customPositionElement","_positionElement","calendarHeight","reduce","acc","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","right","rightMost","centerMost","doc","styleSheets","bodyWidth","centerLeft","centerIndex","cssRules","centerStyle","insertRule","centerBefore","msMaxTouchPoints","isSelectable","findParent","condition","selectedDate","shouldChangeMonth","selectedIndex","showTimeInput","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","mobileInput","_initialDate","_createElement","destroy","lastChild","_type","k","click","wasOpen","select","set","option","CALLBACKS","setSelectedDate","toggle","inputDate","dates","parseDateRules","rule","initEvent","getDateStr","dObj","mobileFormatStr","onMonthNavClick","isPrevMonth","isNextMonth","parseConfig","boolOpts","userConfig","defineProperty","get","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","pluginConf","querySelector","nodeName","placeholder","required","setupDates","preloadedDate","defaultDate","_showTimeInput","yr","build","fragment","__hidePrevMonthArrow","__hideNextMonthArrow","innerContainer","buildWeeks","rContainer","buildTime","separator","hourInput","minuteInput","military2ampm","secondInput","title","customAppend","bindEvents","querySelectorAll","setupMobile","inputType","debouncedResize","ontouchstart","capture","isSafari","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr"],"mappings":"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","file":"widget.3445c586.js","sourceRoot":"../src","sourcesContent":["import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type === 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\tassign({}, vnode),\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type !== 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children === 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children === 'string' || typeof children === 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(createVNode(children.type, children.props, children.key, null))\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value === 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'key' || name === 'children') {\n\t} else if (name === 'style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value === 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue === 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tlet useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (\n\t\ttypeof value !== 'function' &&\n\t\tname !== 'dangerouslySetInnerHTML'\n\t) {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType === 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\tc.shouldComponentUpdate(newProps, c._nextState, componentContext) ===\n\t\t\t\t\t\tfalse\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else if (newVNode !== oldVNode) {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\tnewProps.value !== undefined &&\n\t\t\t\tnewProps.value !== dom.value\n\t\t\t) {\n\t\t\t\tdom.value = newProps.value == null ? '' : newProps.value;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\tnewProps.checked !== undefined &&\n\t\t\t\tnewProps.checked !== dom.checked\n\t\t\t) {\n\t\t\t\tdom.checked = newProps.checked;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(\n\t\tvnode.type,\n\t\tprops,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref\n\t);\n}\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tif (currentComponent.__hooks) {\n\t\tcurrentComponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\tcurrentComponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\tcurrentComponent.__hooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\tif (hooks._pendingEffects.length) {\n\t\t\tafterPaint(afterPaintEffects.push(c));\n\t\t}\n\t}\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\ttry {\n\t\t\thooks._list.forEach(hook => hook._cleanup && hook._cleanup());\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index) {\n\tif (options._hook) options._hook(currentComponent);\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = { _list: [], _pendingEffects: [] });\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} initialState\n */\nexport function useState(initialState) {\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++);\n\tif (!hookState._component) {\n\t\thookState._component = currentComponent;\n\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value[0] = nextValue;\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref === 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t\treturn (state._value = factory());\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\tif (!provider) return context._defaultValue;\n\tconst state = getHookState(currentIndex++);\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\nexport function useErrorBoundary(cb) {\n\tconst state = getHookState(currentIndex++);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.some(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tcancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (typeof window !== 'undefined') {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\tif (hook._cleanup) hook._cleanup();\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\tconst result = hook._value();\n\tif (typeof result === 'function') hook._cleanup = result;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn !oldArgs || newArgs.some((arg, index) => arg !== oldArgs[index]);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f === 'function' ? f(arg) : f;\n}\n","/* flatpickr v4.6.3, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            if (!self.weekdayContainer) {\n                return;\n            }\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    if (self.timeContainer !== undefined &&\n                        self.minuteElement !== undefined &&\n                        self.hourElement !== undefined) {\n                        updateTime();\n                    }\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input ||\n                            e.target === self.altInput) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n","import { useEffect, useState } from 'preact/hooks';\n\nconst matchWidgetSize = (width: number): string => {\n  switch (true) {\n    case width <= 400:\n      return 'xs';\n    case width <= 600:\n      return 's';\n    case width <= 1000:\n      return 'm';\n    default:\n      return 'l';\n  }\n};\n\nexport const useWidgetSize = (container: HTMLElement) => {\n  const initialWidgetSize = matchWidgetSize(\n    container.getBoundingClientRect().width,\n  );\n\n  const [widgetSize, setWidgetSize] = useState(initialWidgetSize);\n\n  const handleResize = () => {\n    setWidgetSize(matchWidgetSize(container.getBoundingClientRect().width));\n  };\n  useEffect(() => {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return widgetSize;\n};\n","import { h } from 'preact';\n\nexport const CalenderIcon = ({ color }: { color?: string }) => (\n  <svg\n    width=\"15\"\n    height=\"17\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"calendar\"\n  >\n    <path\n      d=\"M2 7.998s.002 7.25 0 7.002l11.003-.001c-.002 0-.006-7-.006-7L2 7.998zM8 11h4v3H8v-3zm7-5v9a2 2 0 01-2 2H2a2 2 0 01-2-2V6h15zm-3-4V1a1 1 0 00-1-1h-1a1 1 0 00-1 1v1H6V1a1 1 0 00-1-1H4a1 1 0 00-1 1v1H2a2 2 0 00-2 2h15a2 2 0 00-2-2h-1z\"\n      fill={color || '#4990E2'}\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","import { JSX } from 'preact';\n\nconst BASE_SEARCH_URL = 'https://www.aviasales.ru/search';\n\nconst formatDate = (date: string) => {\n  return date.replace('.', '').substring(0, 4);\n};\n\nexport const getSearchURL = (departureDate: string, returnDate: string) => {\n  const departureFormatted = formatDate(departureDate);\n  const returnFormatted = returnDate.length !== 0 ? formatDate(returnDate) : '';\n\n  return `${BASE_SEARCH_URL}/LED${departureFormatted}HKT${returnFormatted}201`;\n};\nexport interface InputEvent\n  extends JSX.TargetedEvent<HTMLInputElement, Event> {}\n","import { render, h } from 'preact';\nimport { useState, useEffect, useRef } from 'preact/hooks';\nimport datePicker from 'flatpickr';\nimport './widget.css';\n\nimport { useWidgetSize } from './useWidgetSize';\nimport { CalenderIcon } from './CalendarIcon';\nimport { getSearchURL, InputEvent } from './utils';\n\nconst container = document.currentScript?.parentElement;\n\nif (container) {\n  const Widget = () => {\n    const widgetSize = useWidgetSize(container);\n    const widgetRoot = useRef<HTMLDivElement>(null);\n\n    const departureDateInput = useRef<HTMLInputElement>(null);\n    const returnDateInput = useRef<HTMLInputElement>(null);\n\n    const [departureDate, setDepartureDate] = useState<string>('');\n    const [returnDate, setReturnDate] = useState<string>('');\n\n    const handleSubmit = (e: Event) => {\n      e.preventDefault();\n      if (!departureDate || departureDate.length === 0) {\n        departureDateInput.current?.focus();\n        return;\n      }\n\n      const searchURL = getSearchURL(departureDate, returnDate);\n      window.open(searchURL, '_blank');\n    };\n\n    const handleDepartureInputChange = (e: InputEvent) => {\n      setDepartureDate(e.currentTarget.value);\n    };\n\n    const handleReturnInputChange = (e: InputEvent) => {\n      setReturnDate(e.currentTarget.value);\n    };\n\n    useEffect(() => {\n      datePicker(departureDateInput.current, {\n        minDate: new Date(),\n        defaultDate: new Date(),\n        appendTo: widgetRoot.current,\n        dateFormat: 'd.m.Y',\n        onChange: dates => {\n          if (dates.length !== 0) {\n            returnDatePicker.set('minDate', dates[0]);\n          }\n        },\n        onReady: (dates, currentDate) => {\n          setDepartureDate(currentDate);\n        },\n      });\n      const returnDatePicker = datePicker(returnDateInput.current, {\n        minDate: new Date(),\n        appendTo: widgetRoot.current,\n        dateFormat: 'd.m.Y',\n      });\n    }, []);\n\n    return (\n      <section className=\"slowpoke_tp_widget\" ref={widgetRoot}>\n        <div className={`widget widget-size-${widgetSize}`}>\n          <h3 className=\"title\">Where does it come from? Why do we use it?</h3>\n          <div className=\"note\">\n            It is a long established fact that a reader will be distracted by\n            the readable content of a page when looking at its layout.\n          </div>\n          <form className=\"search-form\">\n            <div className=\"inputs\">\n              <span className=\"input-wrapper\">\n                <input\n                  onChange={handleDepartureInputChange}\n                  type=\"text\"\n                  className=\"input departure-date\"\n                  placeholder=\"Depart date\"\n                  ref={departureDateInput}\n                />\n                <CalenderIcon />\n              </span>\n              <span className=\"input-wrapper\">\n                <input\n                  onChange={handleReturnInputChange}\n                  type=\"text\"\n                  className=\"input return-date\"\n                  placeholder=\"Return date\"\n                  ref={returnDateInput}\n                />\n                <CalenderIcon />\n              </span>\n            </div>\n            <button className=\"submit-button\" onClick={handleSubmit}>\n              Search\n            </button>\n          </form>\n        </div>\n      </section>\n    );\n  };\n  render(<Widget />, container);\n}\n"]}